(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2797],{82357:function(e,s,l){Promise.resolve().then(l.bind(l,66314))},3577:function(e,s,l){"use strict";l.d(s,{Z:function(){return t}});let t=(0,l(79205).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},73247:function(e,s,l){"use strict";l.d(s,{Z:function(){return t}});let t=(0,l(79205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},66314:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return w}});var t=l(57437),a=l(2265),r=l(3577),o=l(73247),i=l(79820),n=l(40279),c=l(12381),d=l(15291),m=l(69174),u=l(53517),h=l(60867),p=l(26897),x=l(48810),f=l(27875),j=l(76715),g=l(70399),v=l(99914);let y={sport:"all",school:"all",sportCategory:"all",team:"all",search:""},N={all:"Toutes les cat\xe9gories",masculine:"Masculin",feminine:"F\xe9minin",mixed:"Mixte"};function w(){let{sports:e}=(0,f.V)(),{filteredSchools:s}=(0,j.A)(),[l,w]=(0,a.useState)(y),b=(0,a.useCallback)((e,s)=>{w(l=>({...l,[e]:s}))},[]),C=(0,a.useCallback)(()=>w(y),[]),{sportMatches:k}=(0,v.k)({sportId:"all"!==l.sport?l.sport:void 0}),{teams:T}=(0,g.y)({sportId:"all"!==l.sport?l.sport:void 0,schoolId:"all"!==l.school?l.school:void 0}),S=(0,a.useMemo)(()=>"all"!==l.school&&"all"!==l.sport&&T?T:[],[l.school,l.sport,T]);(0,a.useEffect)(()=>{"all"!==l.team&&0===S.length&&b("team","all")},[S.length,l.team,b]),(0,a.useEffect)(()=>{"all"!==l.school&&"all"!==l.sport&&"all"===l.team&&1===S.length&&b("team",S[0].id)},[l.school,l.sport,l.team,S,b]);let _=(0,a.useMemo)(()=>{if(!k||!e)return[];let s=k;if("all"!==l.team)s=s.filter(e=>e.team1_id===l.team||e.team2_id===l.team);else if("all"!==l.school&&T){let e=T.map(e=>e.id);s=s.filter(s=>e.includes(s.team1_id)||e.includes(s.team2_id))}if("all"!==l.sportCategory){let t="mixed"===l.sportCategory?null:l.sportCategory,a=e.filter(e=>e.sport_category===t).map(e=>e.id);s=s.filter(e=>a.includes(e.sport_id))}if(l.search){let e=l.search.toLowerCase();s=s.filter(s=>{var l,t,a,r,o;return(null===(l=s.name)||void 0===l?void 0:l.toLowerCase().includes(e))||(null===(a=s.team1)||void 0===a?void 0:null===(t=a.name)||void 0===t?void 0:t.toLowerCase().includes(e))||(null===(o=s.team2)||void 0===o?void 0:null===(r=o.name)||void 0===r?void 0:r.toLowerCase().includes(e))})}return s},[k,l,T,e]),M=(0,a.useMemo)(()=>new Date,[]),Z=(0,a.useMemo)(()=>_.filter(e=>e.date&&new Date(e.date)>M).sort((e,s)=>new Date(e.date).getTime()-new Date(s.date).getTime()),[_,M]),B=(0,a.useMemo)(()=>"all"===l.team?[]:_.filter(e=>e.date&&new Date(e.date)<=M).sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime()),[_,l.team,M]),F=(0,a.useMemo)(()=>{let e=Object.values(l).every(e=>"all"===e||""===e);return{allFiltersDefault:e,hasActiveFilters:!e,teamSelected:"all"!==l.team,showTeamFilter:S.length>1&&"all"!==l.school&&"all"!==l.sport}},[l,S.length]),R=(0,a.useMemo)(()=>{var t,a;let r=F.teamSelected||"all"===l.sport?"Tous les sports":(null==e?void 0:null===(t=e.find(e=>e.id===l.sport))||void 0===t?void 0:t.name)||"Tous les sports",o=F.teamSelected||"all"===l.school?"Toutes les \xe9coles":(null==s?void 0:null===(a=s.find(e=>e.id===l.school))||void 0===a?void 0:a.name)||"Toutes les \xe9coles",i=(()=>{if("all"===l.team)return"Toutes les \xe9quipes";let e=(null==T?void 0:T.find(e=>e.id===l.team))||S.find(e=>e.id===l.team);return(null==e?void 0:e.name)||"\xc9quipe inconnue"})();return{sport:r,school:o,sportCategory:N[l.sportCategory],team:i}},[l,e,s,T,S,F.teamSelected]),z=(0,a.useMemo)(()=>F.teamSelected?{sport:!1,school:!1,sportCategory:!1,team:!1}:{sport:F.allFiltersDefault||"all"!==l.school&&"all"===l.sport,school:F.allFiltersDefault||"all"!==l.sport&&"all"===l.school,sportCategory:F.allFiltersDefault||F.hasActiveFilters&&"all"===l.sportCategory,team:!1},[l,F]),Q=(0,a.useMemo)(()=>{let e=[];return"all"!==l.sport&&e.push({key:"sport",label:"Sport: ".concat(R.sport)}),"all"!==l.school&&e.push({key:"school",label:"\xc9cole: ".concat(R.school)}),"all"!==l.sportCategory&&e.push({key:"sportCategory",label:"Cat\xe9gorie: ".concat(R.sportCategory)}),"all"!==l.team&&e.push({key:"team",label:R.team}),l.search&&e.push({key:"search",label:'Recherche: "'.concat(l.search,'"')}),e},[l,R]),D=F.hasActiveFilters,A=F.showTeamFilter;return(0,t.jsxs)(u.Hn,{children:[(0,t.jsx)(x.S,{}),(0,t.jsxs)(u.kV,{children:[(0,t.jsx)("header",{className:"flex h-16 shrink-0 items-center gap-2",children:(0,t.jsx)("div",{className:"flex items-center gap-2 px-4",children:(0,t.jsx)(u.vP,{className:"-ml-1"})})}),(0,t.jsx)("div",{className:"flex flex-col relative overflow-auto h-full m-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Rechercher les Matchs"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Recherchez tous les matchs par sport et \xe9cole"})]})}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(r.Z,{className:"h-5 w-5"}),"Filtres de recherche"]})}),(0,t.jsxs)(i.aY,{children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Rechercher"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(n.I,{placeholder:"Nom d'\xe9quipe ou de match...",value:l.search,onChange:e=>b("search",e.target.value),className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Sport"}),(0,t.jsxs)(d.Ph,{value:l.sport,onValueChange:e=>b("sport",e),children:[(0,t.jsx)(d.i4,{children:(0,t.jsx)(d.ki,{placeholder:"S\xe9lectionner un sport"})}),(0,t.jsxs)(d.Bw,{children:[(0,t.jsx)(d.Ql,{value:"all",children:"Tous les sports"}),null==e?void 0:e.map(e=>(0,t.jsx)(d.Ql,{value:e.id,children:e.name},e.id))]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"\xc9cole"}),(0,t.jsxs)(d.Ph,{value:l.school,onValueChange:e=>b("school",e),children:[(0,t.jsx)(d.i4,{children:(0,t.jsx)(d.ki,{placeholder:"S\xe9lectionner une \xe9cole"})}),(0,t.jsxs)(d.Bw,{children:[(0,t.jsx)(d.Ql,{value:"all",children:"Toutes les \xe9coles"}),null==s?void 0:s.map(e=>(0,t.jsx)(d.Ql,{value:e.id,children:e.name},e.id))]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Cat\xe9gorie"}),(0,t.jsxs)(d.Ph,{value:l.sportCategory,onValueChange:e=>b("sportCategory",e),children:[(0,t.jsx)(d.i4,{children:(0,t.jsx)(d.ki,{placeholder:"S\xe9lectionner une cat\xe9gorie"})}),(0,t.jsxs)(d.Bw,{children:[(0,t.jsx)(d.Ql,{value:"all",children:"Toutes les cat\xe9gories"}),(0,t.jsx)(d.Ql,{value:"masculine",children:"Masculin"}),(0,t.jsx)(d.Ql,{value:"feminine",children:"F\xe9minin"}),(0,t.jsx)(d.Ql,{value:"mixed",children:"Mixte"})]})]})]}),A&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"\xc9quipe"}),(0,t.jsxs)(d.Ph,{value:l.team,onValueChange:e=>b("team",e),children:[(0,t.jsx)(d.i4,{children:(0,t.jsx)(d.ki,{placeholder:"S\xe9lectionner une \xe9quipe"})}),(0,t.jsxs)(d.Bw,{children:[(0,t.jsx)(d.Ql,{value:"all",children:"Toutes les \xe9quipes"}),S.map(e=>(0,t.jsx)(d.Ql,{value:e.id,children:e.name},e.id))]})]})]})]}),D&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Filtres actifs:"}),Q.map(e=>{let{key:s,label:l}=e;return(0,t.jsxs)(m.C,{variant:"secondary",className:"gap-1",children:[l,(0,t.jsx)(c.z,{variant:"ghost",size:"sm",className:"h-auto p-0 text-muted-foreground hover:text-foreground",onClick:()=>b(s,"search"===s?"":"all"),children:"\xd7"})]},s)})]})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(h.i,{matches:Z,userTeamId:void 0,showSportBadge:z.sport,showSchoolBadges:z.school,showSportCategoryBadges:z.sportCategory,showTeamBadges:z.team,sports:e,schools:s,teams:T})}),B.length>0&&(0,t.jsx)("div",{children:(0,t.jsx)(p.w,{matches:B,userTeamId:void 0,showSportBadge:z.sport,showSchoolBadges:z.school,showSportCategoryBadges:z.sportCategory,showTeamBadges:z.team,sports:e,schools:s,teams:T})}),0===_.length&&(0,t.jsx)(i.Zb,{children:(0,t.jsxs)(i.aY,{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(o.Z,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Aucun r\xe9sultat trouv\xe9"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"Essayez de modifier vos crit\xe8res de recherche pour trouver des matchs."}),(0,t.jsx)(c.z,{variant:"outline",className:"mt-4",onClick:C,children:"R\xe9initialiser les filtres"})]})})]})})]})]})}},15291:function(e,s,l){"use strict";l.d(s,{Bw:function(){return x},Ph:function(){return d},Ql:function(){return f},i4:function(){return u},ki:function(){return m}});var t=l(57437),a=l(2265),r=l(56873),o=l(40875),i=l(22135),n=l(30401),c=l(94508);let d=r.fC;r.ZA;let m=r.B4,u=a.forwardRef((e,s)=>{let{className:l,children:a,...i}=e;return(0,t.jsxs)(r.xz,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",l),...i,children:[a,(0,t.jsx)(r.JO,{asChild:!0,children:(0,t.jsx)(o.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=r.xz.displayName;let h=a.forwardRef((e,s)=>{let{className:l,...a}=e;return(0,t.jsx)(r.u_,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",l),...a,children:(0,t.jsx)(i.Z,{className:"h-4 w-4"})})});h.displayName=r.u_.displayName;let p=a.forwardRef((e,s)=>{let{className:l,...a}=e;return(0,t.jsx)(r.$G,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",l),...a,children:(0,t.jsx)(o.Z,{className:"h-4 w-4"})})});p.displayName=r.$G.displayName;let x=a.forwardRef((e,s)=>{let{className:l,children:a,position:o="popper",...i}=e;return(0,t.jsx)(r.h_,{children:(0,t.jsxs)(r.VY,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",l),position:o,...i,children:[(0,t.jsx)(h,{}),(0,t.jsx)(r.l_,{className:(0,c.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,t.jsx)(p,{})]})})});x.displayName=r.VY.displayName,a.forwardRef((e,s)=>{let{className:l,...a}=e;return(0,t.jsx)(r.__,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",l),...a})}).displayName=r.__.displayName;let f=a.forwardRef((e,s)=>{let{className:l,children:a,...o}=e;return(0,t.jsxs)(r.ck,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l),...o,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(r.wU,{children:(0,t.jsx)(n.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(r.eT,{children:a})]})});f.displayName=r.ck.displayName,a.forwardRef((e,s)=>{let{className:l,...a}=e;return(0,t.jsx)(r.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",l),...a})}).displayName=r.Z0.displayName}},function(e){e.O(0,[1414,9522,411,278,8068,9859,5763,5184,1312,4278,8175,4430,3448,5515,5304,2971,2117,1744],function(){return e(e.s=82357)}),_N_E=e.O()}]);