(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{30204:function(e,t,r){Promise.resolve().then(r.bind(r,47264))},10407:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},47264:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var a=r(57437),s=r(87766),i=r(35433),n=r(29660),d=r(25779),l=r(76715),o=r(27875),c=r(90163),u=r(56229),m=r(54977),h=r(13590),p=r(29501),f=r(2265);let x=(0,r(79205).Z)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);var v=r(27107),g=r(48467),j=r(79820),b=r(69174),y=r(71488);let N=e=>{let{edition:t,podiumStats:r,sports:s=[],schools:i=[],locations:n=[],products:d=[],onOpenInscription:l,onCloseInscription:o,isOpenInscriptionLoading:c,isCloseInscriptionLoading:u}=e,m=i.filter(e=>"dce19aa2-8863-4c93-861e-fb7be8f610ed"!==e.id),h=s.filter(e=>!1!==e.active),p=d.filter(e=>e.variants&&e.variants.length>0&&e.variants.some(e=>!1!==e.enabled)),f=(e,t,r)=>(0,a.jsx)(b.C,{variant:e?"default":"secondary",children:e?t:r});return(0,a.jsxs)(j.Zb,{children:[(0,a.jsxs)(j.Ol,{children:[(0,a.jsx)(j.ll,{children:"\xc9tat de Configuration"}),(0,a.jsx)(j.SZ,{children:"R\xe9sum\xe9 de la configuration de la comp\xe9tition"})]}),(0,a.jsx)(j.aY,{children:(0,a.jsx)(y.pn,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(y.u,{children:[(0,a.jsx)(y.aJ,{asChild:!0,children:(0,a.jsxs)("span",{className:"text-sm",children:["Sports (",h.length,"/",s.length,")"]})}),(0,a.jsx)(y._v,{children:(0,a.jsxs)("p",{children:[h.length," sports actifs sur ",s.length," au total"]})})]}),f(s.length>0,s.length===h.length?"Tous actifs":"Partiellement configur\xe9s","Aucun sport")]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"\xc9coles"}),(0,a.jsx)(b.C,{variant:m.length>0?"default":"secondary",children:m.length>0?"".concat(m.length," configur\xe9es"):"Aucune \xe9cole"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Lieux"}),(0,a.jsx)(b.C,{variant:n.length>0?"default":"secondary",children:n.length>0?"".concat(n.length," configur\xe9s"):"Aucun lieu"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(y.u,{children:[(0,a.jsx)(y.aJ,{asChild:!0,children:(0,a.jsxs)("span",{className:"text-sm",children:["Produits (",p.length,"/",d.length,")"]})}),(0,a.jsx)(y._v,{children:(0,a.jsxs)("p",{children:[p.length," produits actifs sur"," ",d.length," au total"]})})]}),f(d.length>0,p.length===d.length?"Tous actifs":"Partiellement actifs","Aucun produit")]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Podium"}),(0,a.jsx)(b.C,{variant:r?"default":"secondary",children:r?"".concat(r.totalRankings," classements"):"Non configur\xe9"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Inscriptions"}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(b.C,{variant:"default",className:t.inscription_enabled?"bg-red-500 text-white hover:bg-red-700 cursor-pointer":"bg-green-500 text-white hover:bg-green-700 cursor-pointer",children:(0,a.jsx)("span",{role:"button",tabIndex:0,onClick:()=>u||c||!t.inscription_enabled?l(t.id):o(t.id),children:c?"Ouverture...":u?"Fermeture...":t.inscription_enabled?"Fermer les inscriptions":"Ouvrir les inscriptions"})})})]})]})})})]})};var k=r(12381),A=r(12749);let w=e=>{let{locations:t}=e;if(!t||0===t.length)return null;let r=t.slice(0,3),s=t.slice(3),i=e=>{let{location:t,isInPopover:r=!1}=e;return(0,a.jsx)("div",{className:r?"border-b pb-2 last:border-b-0":"flex items-center justify-between border-b pb-2 last:border-b-0",children:(0,a.jsxs)("div",{className:r?"":"flex-1",children:[(0,a.jsx)("span",{className:"font-medium",children:t.name}),t.address&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t.address})]})},t.id)};return(0,a.jsxs)(j.Zb,{children:[(0,a.jsxs)(j.Ol,{children:[(0,a.jsx)(j.ll,{children:"Lieux de Comp\xe9tition"}),(0,a.jsxs)(j.SZ,{children:["D\xe9tails des ",t.length," lieux configur\xe9s"]})]}),(0,a.jsx)(j.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[r.map(e=>(0,a.jsx)(i,{location:e},e.id)),s.length>0&&(0,a.jsxs)(A.J2,{children:[(0,a.jsx)(A.xo,{asChild:!0,children:(0,a.jsxs)(k.z,{variant:"ghost",size:"sm",className:"w-full mt-2",children:["Voir ",s.length," de plus"]})}),(0,a.jsx)(A.yk,{className:"w-80",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h4",{className:"font-medium",children:["Autres lieux (",s.length,")"]}),(0,a.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:s.map(e=>(0,a.jsx)(i,{location:e,isInPopover:!0},e.id))})]})})]})]})})]})},P=e=>{let{products:t}=e;if(!t||0===t.length)return null;let r=e=>{if(!e||0===e.length)return null;let t=e.map(e=>e.price),r=Math.min(...t)/100,a=Math.max(...t)/100;return{minPrice:r.toFixed(2),maxPrice:a.toFixed(2),hasRange:r!==a}},s=e=>{var t;let{product:s}=e,i=r(s.variants);return(0,a.jsxs)("div",{className:"flex items-center justify-between border-b pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:s.name}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null===(t=s.variants)||void 0===t?void 0:t.length)||0," variante(s)"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[s.required&&(0,a.jsx)(b.C,{variant:"destructive",children:"Obligatoire"}),i&&(0,a.jsxs)(b.C,{variant:"outline",children:[i.minPrice,"€",i.hasRange&&" - ".concat(i.maxPrice,"€")]})]})]},s.id)};return(0,a.jsxs)(j.Zb,{children:[(0,a.jsxs)(j.Ol,{children:[(0,a.jsx)(j.ll,{children:"Produits Disponibles"}),(0,a.jsxs)(j.SZ,{children:["D\xe9tails des ",t.length," produits configur\xe9s"]})]}),(0,a.jsx)(j.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[t.slice(0,3).map(e=>(0,a.jsx)(s,{product:e},e.id)),t.length>3&&(0,a.jsxs)(A.J2,{children:[(0,a.jsx)(A.xo,{asChild:!0,children:(0,a.jsxs)(k.z,{variant:"link",className:"p-0 h-auto text-xs",children:["Voir ",t.length-3," de plus"]})}),(0,a.jsx)(A.yk,{className:"w-80",children:(0,a.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.slice(3).map(e=>(0,a.jsx)(s,{product:e},e.id))})})]})]})})]})},S=e=>{let{sports:t}=e;if(!t||0===t.length)return null;let r=e=>{let{sport:t}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between border-b pb-2 last:border-b-0",children:[(0,a.jsx)("span",{className:"font-medium",children:t.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.C,{variant:"outline",children:"masculine"===t.sport_category?"Masculin":"feminine"===t.sport_category?"F\xe9minin":"Mixte"}),(0,a.jsx)(b.C,{variant:!1!==t.active?"default":"secondary",children:!1!==t.active?"Actif":"Inactif"})]})]})};return(0,a.jsxs)(j.Zb,{children:[(0,a.jsxs)(j.Ol,{children:[(0,a.jsx)(j.ll,{children:"Sports Configur\xe9s"}),(0,a.jsxs)(j.SZ,{children:["Liste des ",t.length," sports disponibles"]})]}),(0,a.jsx)(j.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[t.slice(0,3).map(e=>(0,a.jsx)(r,{sport:e},e.id)),t.length>3&&(0,a.jsxs)(A.J2,{children:[(0,a.jsx)(A.xo,{asChild:!0,children:(0,a.jsxs)(k.z,{variant:"link",className:"p-0 h-auto text-xs",children:["Voir ",t.length-3," de plus"]})}),(0,a.jsx)(A.yk,{className:"w-80",children:(0,a.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.slice(3).map(e=>(0,a.jsx)(r,{sport:e},e.id))})})]})]})})]})},z=e=>{let{schools:t}=e;if(!t||0===t.length)return null;let r=t.filter(e=>"dce19aa2-8863-4c93-861e-fb7be8f610ed"!==e.id);if(0===r.length)return null;let s=e=>{let{school:t}=e;return(0,a.jsx)("div",{className:"flex items-center justify-between border-b pb-2 last:border-b-0",children:(0,a.jsx)("span",{className:"font-medium",children:t.name})})};return(0,a.jsxs)(j.Zb,{children:[(0,a.jsxs)(j.Ol,{children:[(0,a.jsx)(j.ll,{children:"\xc9coles Configur\xe9es"}),(0,a.jsxs)(j.SZ,{children:["Liste des ",r.length," \xe9coles participantes"]})]}),(0,a.jsx)(j.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[r.slice(0,3).map(e=>(0,a.jsx)(s,{school:e},e.id)),r.length>3&&(0,a.jsxs)(A.J2,{children:[(0,a.jsx)(A.xo,{asChild:!0,children:(0,a.jsxs)(k.z,{variant:"link",className:"p-0 h-auto text-xs",children:["Voir ",r.length-3," de plus"]})}),(0,a.jsx)(A.yk,{className:"w-80",children:(0,a.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.slice(3).map(e=>(0,a.jsx)(s,{school:e},e.id))})})]})]})})]})};var C=()=>{let{edition:e,createEdition:t,isCreationLoading:r,openEditionInscription:j,closeEditionInscription:b,isOpenInscriptionLoading:y,isCloseInscriptionLoading:k}=(0,n.n)(),{isAdmin:A}=(0,d.a)(),{schools:C}=(0,l.A)(),{sports:D}=(0,o.V)(),{locations:L}=(0,c.Z)(),{products:M}=(0,u.r)(),{globalPodium:V}=(0,m.y)(),I=(0,p.cI)({resolver:(0,h.F)(i.k),defaultValues:{},mode:"onChange"}),_=(0,f.useMemo)(()=>{if(!C||!D)return null;let e=C.length,t=D.length,r=(null==L?void 0:L.length)||0;return{totalSchools:e,totalSports:t,totalLocations:r,totalProducts:(null==M?void 0:M.length)||0,totalVariants:(null==M?void 0:M.reduce((e,t)=>{var r;return e+((null===(r=t.variants)||void 0===r?void 0:r.length)||0)},0))||0,podiumStats:V?{totalRankings:V.length,schoolsWithRankings:new Set(V.map(e=>e.school_id)).size}:null}},[C,D,L,M,V]),E=(0,f.useMemo)(()=>!!e&&new Date<new Date(e.start_date),[e]);return(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[A()&&null===e&&(0,a.jsx)(s.Z,{form:I,isLoading:r,onSubmit:function(e){t({name:e.name,start_date:e.startDate.toISOString().slice(0,10),end_date:e.endDate.toISOString().slice(0,10),year:e.startDate.getFullYear(),active:!0},()=>{I.reset()})},submitLabel:"Cr\xe9er l'\xe9dition"}),A()&&e&&E&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:e.name}),(0,a.jsx)("div",{className:"flex items-center gap-4 text-muted-foreground",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[(0,v.WU)(new Date(e.start_date),"dd MMMM yyyy",{locale:g.fr})," ","-"," ",(0,v.WU)(new Date(e.end_date),"dd MMMM yyyy",{locale:g.fr})]})]})})]}),_&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,a.jsx)(N,{edition:e,podiumStats:_.podiumStats,sports:D,schools:C,locations:L,products:M,onOpenInscription:j,onCloseInscription:b,isOpenInscriptionLoading:y,isCloseInscriptionLoading:k}),(0,a.jsx)(w,{locations:L||[]}),(0,a.jsx)(P,{products:M||[]})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,a.jsx)(S,{sports:D||[]}),(0,a.jsx)(z,{schools:C||[]})]})]})]})]})}},87766:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var a=r(57437),s=r(20423),i=r(31030),n=r(80670),d=r(40279),l=r(2265),o=r(48467),c=r(27107),u=r(31047),m=r(40875),h=r(94508),p=r(46291),f=r(12749),x=r(12381),v=r(75060);function g(e){let{startDate:t,endDate:r,onDateRangeChange:s,className:i,fromDate:n,toDate:d,label:g="P\xe9riode de l'\xe9dition",id:j="dateRange"}=e,[b,y]=l.useState(!1),[N,k]=l.useState(()=>t&&r?{from:t,to:r}:t?{from:t,to:void 0}:void 0);return l.useEffect(()=>{t&&r?k({from:t,to:r}):t?k({from:t,to:void 0}):k(void 0)},[t,r]),(0,a.jsxs)("div",{className:(0,h.cn)("flex flex-col gap-3",i),children:[(0,a.jsx)(v._,{htmlFor:j,className:"px-1",children:g}),(0,a.jsxs)(f.J2,{open:b,onOpenChange:y,children:[(0,a.jsx)(f.xo,{asChild:!0,children:(0,a.jsxs)(x.z,{variant:"outline",id:j,className:"w-full justify-between font-normal",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4"}),(null==N?void 0:N.from)?N.from&&N.to?"".concat((0,c.WU)(N.from,"dd/MM/yyyy",{locale:o.fr})," - ").concat((0,c.WU)(N.to,"dd/MM/yyyy",{locale:o.fr})):"\xc0 partir du ".concat((0,c.WU)(N.from,"dd/MM/yyyy",{locale:o.fr})):"S\xe9lectionnez une p\xe9riode"]}),(0,a.jsx)(m.Z,{className:"h-4 w-4"})]})}),(0,a.jsx)(f.yk,{className:"w-auto overflow-hidden p-0",align:"start",children:(0,a.jsx)(p.f,{mode:"range",defaultMonth:null==N?void 0:N.from,selected:N,onSelect:e=>{k(e),s(null==e?void 0:e.from,null==e?void 0:e.to),(null==e?void 0:e.from)&&(null==e?void 0:e.to)&&y(!1)},locale:o.fr,fromDate:n,toDate:d,captionLayout:"dropdown-buttons",className:"rounded-lg border-0 shadow-none",initialFocus:!0})})]})]})}var j=e=>{let{form:t,isLoading:r,onSubmit:l,submitLabel:o}=e,c=new Date;return(0,a.jsx)(n.l0,{...t,children:(0,a.jsxs)("form",{onSubmit:t.handleSubmit(l),className:"space-y-6",children:[(0,a.jsx)(i.L,{form:t,label:"Nom de l'\xe9dition",id:"name",input:e=>(0,a.jsx)(d.I,{placeholder:"Ex: Challenge 2025",...e})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g,{startDate:t.getValues("startDate"),endDate:t.getValues("endDate"),onDateRangeChange:(e,r)=>{e&&t.setValue("startDate",e,{shouldValidate:!0}),r&&t.setValue("endDate",r,{shouldValidate:!0}),e&&!r&&t.setValue("endDate",void 0,{shouldValidate:!0})},fromDate:c,toDate:new Date(c.getFullYear()+1,c.getMonth(),c.getDate()),label:"P\xe9riode de l'\xe9dition",id:"dateRange"}),(0,a.jsx)(n.pf,{className:"text-sm text-muted-foreground",children:"S\xe9lectionnez la date de d\xe9but, puis la date de fin de l'\xe9dition"}),t.formState.errors.startDate&&(0,a.jsx)("p",{className:"text-sm font-medium text-destructive",children:t.formState.errors.startDate.message}),t.formState.errors.endDate&&(0,a.jsx)("p",{className:"text-sm font-medium text-destructive",children:t.formState.errors.endDate.message})]}),(0,a.jsx)(s.f,{type:"submit",className:"w-full mt-6",isLoading:r,children:o})]})})}},31030:function(e,t,r){"use strict";r.d(t,{L:function(){return i}});var a=r(57437),s=r(80670);let i=e=>{let{form:t,label:r,id:i,input:n}=e;return(0,a.jsx)(s.Wi,{control:t.control,name:i,render:e=>{let{field:t}=e;return(0,a.jsx)(s.xJ,{className:"w-full",children:(0,a.jsxs)("div",{className:"grid gap-2",children:[null!=r?r:(0,a.jsx)(s.lX,{children:r}),(0,a.jsx)(s.NI,{children:n(t)}),(0,a.jsx)(s.zG,{})]})})}})}},69174:function(e,t,r){"use strict";r.d(t,{C:function(){return d}});var a=r(57437);r(2265);var s=r(90535),i=r(94508);let n=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)(n({variant:r}),t),...s})}},79820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return d},SZ:function(){return o},Zb:function(){return n},aY:function(){return c},eW:function(){return u},ll:function(){return l}});var a=r(57437),s=r(2265),i=r(94508);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});n.displayName="Card";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...s})});d.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},40279:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var a=r(57437),s=r(2265),i=r(94508);let n=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},71488:function(e,t,r){"use strict";r.d(t,{_v:function(){return c},aJ:function(){return o},pn:function(){return d},u:function(){return l}});var a=r(57437),s=r(2265),i=r(61312),n=r(94508);let d=i.zt,l=i.fC,o=i.xz,c=s.forwardRef((e,t)=>{let{className:r,sideOffset:s=4,...d}=e;return(0,a.jsx)(i.VY,{ref:t,sideOffset:s,className:(0,n.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",r),...d})});c.displayName=i.VY.displayName},35433:function(e,t,r){"use strict";r.d(t,{k:function(){return s}});var a=r(91115);let s=a.z.object({name:a.z.string({required_error:"Veuillez renseigner le nom de l'\xe9dition"}).min(1,{message:"Veuillez renseigner le nom de l'\xe9dition"}),startDate:a.z.date({required_error:"Veuillez renseigner la date de d\xe9but de l'\xe9dition"}).refine(e=>{let t=new Date;t.setHours(0,0,0,0);let r=new Date(e);return r.setHours(0,0,0,0),r>=t},{message:"La date de d\xe9but ne peut pas \xeatre dans le pass\xe9"}),endDate:a.z.date({required_error:"Veuillez renseigner la date de fin de l'\xe9dition"})}).superRefine((e,t)=>{e.startDate>e.endDate&&t.addIssue({message:"La date de fin doit \xeatre post\xe9rieure \xe0 la date de d\xe9but",path:["endDate"],code:a.z.ZodIssueCode.custom})})},29660:function(e,t,r){"use strict";r.d(t,{n:function(){return n}});var a=r(41494),s=r(28207),i=r(18752);let n=()=>{let{token:e,isTokenExpired:t}=(0,s.a)(),{data:r,isLoading:n,refetch:d,error:l}=(0,a.mNB)({headers:{Authorization:"Bearer ".concat(e)}},{enabled:!t(),retry:0,queryHash:"getEdition"}),{mutate:o,isPending:c}=(0,a.fhc)(),u=async(t,r)=>o({headers:{Authorization:"Bearer ".concat(e)},body:t},{onSettled:(e,t)=>{t.stack.body||t.stack.detail?(console.log(t),(0,i.Am)({title:"Erreur lors de la cr\xe9ation de l'\xe9dition",description:t.stack.body||t.stack.detail,variant:"destructive"})):(d(),r(),(0,i.Am)({title:"\xc9dition cr\xe9\xe9e",description:"L'\xe9dition a \xe9t\xe9 cr\xe9\xe9e avec succ\xe8s."}))}}),{mutate:m,isPending:h}=(0,a.GX7)(),p=async(t,r)=>{m({headers:{Authorization:"Bearer ".concat(e)},pathParams:{editionId:t},body:!0},{onSuccess:()=>{(0,i.Am)({title:"Inscription ouverte",description:"L'inscription \xe0 l'\xe9dition est maintenant ouverte."}),d(),r&&r()},onError:e=>{var t,r;(0,i.Am)({title:"Erreur lors de l'ouverture de l'inscription",description:(null==e?void 0:null===(t=e.stack)||void 0===t?void 0:t.body)||(null==e?void 0:null===(r=e.stack)||void 0===r?void 0:r.detail)||"Erreur inconnue.",variant:"destructive"})}})},{mutate:f,isPending:x}=(0,a.GX7)(),v=async(t,r)=>{f({headers:{Authorization:"Bearer ".concat(e)},pathParams:{editionId:t},body:!1},{onSuccess:()=>{(0,i.Am)({title:"Inscription ferm\xe9e",description:"L'inscription \xe0 l'\xe9dition est maintenant ferm\xe9e."}),d(),r&&r()},onError:e=>{var t,r;(0,i.Am)({title:"Erreur lors de la fermeture de l'inscription",description:(null==e?void 0:null===(t=e.stack)||void 0===t?void 0:t.body)||(null==e?void 0:null===(r=e.stack)||void 0===r?void 0:r.detail)||"Erreur inconnue.",variant:"destructive"})}})};return{edition:r,error:l,isLoading:n,refetchEdition:d,isCreationLoading:c,createEdition:u,openEditionInscription:p,closeEditionInscription:v,isOpenInscriptionLoading:h,isCloseInscriptionLoading:x}}},54977:function(e,t,r){"use strict";r.d(t,{y:function(){return d}});var a=r(41494),s=r(25779),i=r(28207),n=r(18752);let d=e=>{let{token:t,isTokenExpired:r}=(0,i.a)(),{isAdmin:d}=(0,s.a)(),{sportId:l,schoolId:o}=e||{},{data:c,isLoading:u,refetch:m,error:h}=(0,a.pDX)({headers:{Authorization:"Bearer ".concat(t)}},{enabled:d()&&!r(),retry:0,queryHash:"getGlobalPodium"}),{data:p,isLoading:f,refetch:x,error:v}=(0,a.zZz)({headers:{Authorization:"Bearer ".concat(t)},pathParams:{sportId:l}},{enabled:!!l&&d()&&!r(),retry:0,queryHash:"getSportPodium-".concat(l)}),{data:g,isLoading:j,refetch:b,error:y}=(0,a.cQS)({headers:{Authorization:"Bearer ".concat(t)},pathParams:{schoolId:o}},{enabled:!!o&&d()&&!r(),retry:0,queryHash:"getSchoolPodium-".concat(o)}),{mutate:N,isPending:k}=(0,a.$qn)(),{mutate:A,isPending:w}=(0,a.R9Y)();return{globalPodium:c,sportPodium:p,schoolPodium:g,createOrUpdateSportPodium:(e,r,a)=>N({headers:{Authorization:"Bearer ".concat(t)},pathParams:{sportId:e},body:r},{onSettled:(t,r)=>{r.stack.body||r.stack.detail?(console.log(r),(0,n.Am)({title:"Erreur lors de la mise \xe0 jour du podium",description:r.stack.body||r.stack.detail,variant:"destructive"})):(m(),l===e&&x(),a(),(0,n.Am)({title:"Podium mis \xe0 jour",description:"Le podium a \xe9t\xe9 mis \xe0 jour avec succ\xe8s."}))}}),deleteSportPodium:(e,r)=>A({headers:{Authorization:"Bearer ".concat(t)},pathParams:{sportId:e}},{onSettled:(t,a)=>{a.stack.body||a.stack.detail?(console.log(a),(0,n.Am)({title:"Erreur lors de la suppression du podium",description:a.stack.body||a.stack.detail,variant:"destructive"})):(m(),l===e&&x(),r(),(0,n.Am)({title:"Podium supprim\xe9",description:"Le podium a \xe9t\xe9 supprim\xe9 avec succ\xe8s."}))}}),isGlobalLoading:u,isSportLoading:f,isSchoolLoading:j,isUpdateLoading:k,isDeleteLoading:w,globalError:h,sportError:v,schoolError:y,refetchGlobalPodium:m,refetchSportPodium:x,refetchSchoolPodium:b}}},56229:function(e,t,r){"use strict";r.d(t,{r:function(){return d}});var a=r(41494),s=r(25779),i=r(28207),n=r(18752);let d=()=>{let{token:e,isTokenExpired:t}=(0,i.a)(),{isAdmin:r}=(0,s.a)(),{data:d,refetch:l,error:o}=(0,a.Xh5)({headers:{Authorization:"Bearer ".concat(e)}},{enabled:r()&&!t(),retry:0,queryHash:"getProducts"}),{mutate:c,isPending:u}=(0,a.X0b)(),{mutate:m,isPending:h}=(0,a.TK4)(),{mutate:p,isPending:f}=(0,a.Oy7)(),{mutate:x,isPending:v}=(0,a.h7y)(),{mutate:g,isPending:j}=(0,a.nUK)(),{mutate:b,isPending:y}=(0,a.Jvq)();return{products:d,error:o,refetchProducts:l,isCreateLoading:u,createProduct:(t,r)=>c({headers:{Authorization:"Bearer ".concat(e)},body:t},{onSettled:(e,t)=>{t.stack.body||t.stack.detail?(console.log(t),(0,n.Am)({title:"Erreur lors de l'ajout du produit",description:t.stack.body||t.stack.detail,variant:"destructive"})):(l(),r(),(0,n.Am)({title:"Produit ajout\xe9e",description:"Le produit a \xe9t\xe9 ajout\xe9 avec succ\xe8s."}))}}),isUpdateLoading:h,updateProduct:(t,r,a)=>m({headers:{Authorization:"Bearer ".concat(e)},pathParams:{productId:t},body:r},{onSettled:(e,t)=>{t.stack.body||t.stack.detail?(console.log(t),(0,n.Am)({title:"Erreur lors de la modification du produit",description:t.stack.body||t.stack.detail,variant:"destructive"})):(l(),a(),(0,n.Am)({title:"Produit modifi\xe9e",description:"Le produit a \xe9t\xe9 modifi\xe9e avec succ\xe8s."}))}}),isDeleteLoading:f,deleteProduct:(t,r)=>p({headers:{Authorization:"Bearer ".concat(e)},pathParams:{productId:t}},{onSettled:(e,t)=>{t.stack.body||t.stack.detail?(console.log(t),(0,n.Am)({title:"Erreur lors de la suppression du product",description:t.stack.body||t.stack.detail,variant:"destructive"})):(l(),r(),(0,n.Am)({title:"Product supprim\xe9e",description:"Le product a \xe9t\xe9 supprim\xe9e avec succ\xe8s."}))}}),isCreateVariantLoading:v,createVariant:(t,r,a)=>x({headers:{Authorization:"Bearer ".concat(e)},pathParams:{productId:t},body:r},{onSettled:(e,t)=>{t.stack.body||t.stack.detail?(console.log(t),(0,n.Am)({title:"Erreur lors de l'ajout de la variante",description:t.stack.body||t.stack.detail,variant:"destructive"})):(l(),a(),(0,n.Am)({title:"Variante ajout\xe9e",description:"La variante a \xe9t\xe9 ajout\xe9e avec succ\xe8s."}))}}),isUpdateVariantLoading:j,updateVariant:(t,r,a)=>g({headers:{Authorization:"Bearer ".concat(e)},pathParams:{variantId:t},body:r},{onSettled:(e,t)=>{t.stack.body||t.stack.detail?(console.log(t),(0,n.Am)({title:"Erreur lors de la modification de la variante",description:t.stack.body||t.stack.detail,variant:"destructive"})):(l(),a(),(0,n.Am)({title:"Variante modifi\xe9e",description:"La variante a \xe9t\xe9 modifi\xe9e avec succ\xe8s."}))}}),isDeleteVariantLoading:y,deleteVariant:(t,r,a)=>b({headers:{Authorization:"Bearer ".concat(e)},queryParams:{product_id:t},pathParams:{variantId:r}},{onSettled:(e,t)=>{t.stack.body||t.stack.detail?(console.log(t),(0,n.Am)({title:"Erreur lors de la suppression de la variante",description:t.stack.body||t.stack.detail,variant:"destructive"})):(l(),a(),(0,n.Am)({title:"Variante supprim\xe9e",description:"La variante a \xe9t\xe9 supprim\xe9e avec succ\xe8s."}))}})}}},76715:function(e,t,r){"use strict";r.d(t,{A:function(){return d}});var a=r(41494),s=r(25779),i=r(28207),n=r(18752);let d=()=>{let{token:e,isTokenExpired:t}=(0,i.a)(),{isAdmin:r}=(0,s.a)(),{data:d,isLoading:l,refetch:o,error:c}=(0,a.sd3)({headers:{Authorization:"Bearer ".concat(e)}},{enabled:r()&&!t(),retry:0,queryHash:"getSchools"}),{mutate:u,isPending:m}=(0,a._7_)(),{mutate:h,isPending:p}=(0,a.mK8)(),f=null==d?void 0:d.filter(e=>"dce19aa2-8863-4c93-861e-fb7be8f610ed"!==e.id);return{schools:d,filteredSchools:f,createSchool:(t,r)=>u({headers:{Authorization:"Bearer ".concat(e)},body:t},{onSettled:(e,t)=>{t.stack.body||t.stack.detail?(console.log(t),(0,n.Am)({title:"Erreur lors de l'ajout de l'\xe9tablissement",description:t.stack.body||t.stack.detail,variant:"destructive"})):(o(),r(),(0,n.Am)({title:"\xc9tablissement ajout\xe9",description:"L'\xe9tablissement a \xe9t\xe9 ajout\xe9 avec succ\xe8s."}))}}),updateSchool:(t,r,a)=>h({headers:{Authorization:"Bearer ".concat(e)},body:r,pathParams:{schoolId:t}},{onSettled:(e,t)=>{t.stack.body||t.stack.detail?(console.log(t),(0,n.Am)({title:"Erreur lors de la modification de l'\xe9tablissement",description:t.stack.body||t.stack.detail,variant:"destructive"})):(o(),a(),(0,n.Am)({title:"\xc9tablissement modifi\xe9",description:"L'\xe9tablissement a \xe9t\xe9 modifi\xe9 avec succ\xe8s."}))}}),error:c,isLoading:l,isCreateLoading:m,isUpdateLoading:p,refetchSchools:o}}},27875:function(e,t,r){"use strict";r.d(t,{V:function(){return d}});var a=r(41494),s=r(25779),i=r(28207),n=r(18752);let d=()=>{let{token:e,isTokenExpired:t}=(0,i.a)(),{isAdmin:r}=(0,s.a)(),{data:d,refetch:l,error:o}=(0,a.V$j)({headers:{Authorization:"Bearer ".concat(e)}},{enabled:r()&&!t(),retry:0,queryHash:"getSports"}),{mutate:c,isPending:u}=(0,a.K9M)(),{mutate:m,isPending:h}=(0,a.OYW)(),{mutate:p,isPending:f}=(0,a.Wx1)();return{sports:d,createSport:(t,r)=>c({headers:{Authorization:"Bearer ".concat(e)},body:t},{onSettled:(e,t)=>{t.stack.body||t.stack.detail?(console.log(t),(0,n.Am)({title:"Erreur lors de l'ajout du sport",description:t.stack.body||t.stack.detail,variant:"destructive"})):(l(),r(),(0,n.Am)({title:"Sport ajout\xe9",description:"Le sport a \xe9t\xe9 ajout\xe9 avec succ\xe8s."}))}}),error:o,isCreateLoading:u,isUpdateLoading:h,updateSport:(t,r,a)=>m({headers:{Authorization:"Bearer ".concat(e)},body:r,pathParams:{sportId:t}},{onSettled:(e,t)=>{t.stack.body||t.stack.detail?(console.log(t),(0,n.Am)({title:"Erreur lors de la modification du sport",description:t.stack.body||t.stack.detail,variant:"destructive"})):(l(),a(),(0,n.Am)({title:"Sport modifi\xe9",description:"Le sport a \xe9t\xe9 modifi\xe9 avec succ\xe8s."}))}}),deleteSport:(t,r)=>p({headers:{Authorization:"Bearer ".concat(e)},pathParams:{sportId:t}},{onSettled:(e,t)=>{t.stack.body||t.stack.detail?(console.log(t),(0,n.Am)({title:"Erreur lors de la suppression du sport",description:t.stack.body||t.stack.detail,variant:"destructive"})):(l(),r(),(0,n.Am)({title:"Sport supprim\xe9",description:"Le sport a \xe9t\xe9 supprim\xe9 avec succ\xe8s."}))}}),isDeleteLoading:f,refetchSports:l}}}},function(e){e.O(0,[8310,1414,9522,411,278,8068,9859,5763,558,1312,6004,130,8175,5327,2971,2117,1744],function(){return e(e.s=30204)}),_N_E=e.O()}]);