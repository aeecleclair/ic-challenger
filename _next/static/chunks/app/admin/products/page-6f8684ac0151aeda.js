(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4122],{66814:function(e,s,a){Promise.resolve().then(a.bind(a,53290))},53290:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return en}});var t=a(57437),i=a(56229),r=a(2265),l=a(79820),n=a(12381),d=a(40279),c=a(69174),o=a(73247),u=a(99397),m=a(44794),x=a(10407),p=a(31477),h=a(83774),j=a(49663),f=a(95805),v=a(29501),N=a(13590),b=a(91115);let g=b.z.object({name:b.z.string({required_error:"Veuillez renseigner le nom de la variante"}).min(1,{message:"Veuillez renseigner le nom de la variante"}),description:b.z.string().optional(),price:b.z.string({required_error:"Veuillez renseigner le prix du produit"}).min(0,{message:"Veuillez renseigner le prix du produit"}),unique:b.z.enum(["unique","multiple"],{required_error:"Veuillez renseigner la quantit\xe9 du produit"}),enabled:b.z.boolean().optional(),schoolType:b.z.enum(["centrale","from_lyon","others"]),publicType:b.z.enum(["pompom","fanfare","cameraman","athlete","volunteer"]).optional()});var y=a(74291),w=a(80670),C=a(23675),k=a(68245),z=a(86700),Z=a(75060),A=a(15291),q=a(20423),S=a(31030),L=a(16682),_=a.n(L),V=a(97607),P=a.n(V);let F={prefix:"",suffix:"€",includeThousandsSeparator:!0,thousandsSeparatorSymbol:" ",allowDecimal:!0,decimalSymbol:".",decimalLimit:2,integerLimit:7,allowNegative:!1,allowLeadingZeroes:!1},I=r.forwardRef((e,s)=>{let{value:a,onChange:i,id:r}=e,l=P()(F);return(0,t.jsx)(_(),{mask:l,value:a,onChange:e=>{let s=e.target.value;if(e.nativeEvent instanceof InputEvent&&","===e.nativeEvent.data){s+=".";let a=e.target,t=a.value.length;a.setSelectionRange(t,t)}let a=s.replace(/[^0-9.]/g,"");console.log(a),i(a)},id:r,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",inputRef:s})});I.displayName="CurrencyInput";let O=e=>{let{productId:s,isOpen:a,onClose:r}=e,{createVariant:l,isCreateVariantLoading:c}=(0,i.r)(),o=(0,v.cI)({resolver:(0,N.F)(g),mode:"onBlur",defaultValues:{enabled:!0,unique:"multiple"}}),u=[{value:"centrale",label:"Centrale"},{value:"from_lyon",label:"De Lyon"},{value:"others",label:"Autres"}],m=[{value:"pompom",label:"Pompom"},{value:"fanfare",label:"Fanfare"},{value:"cameraman",label:"Cameraman"},{value:"athlete",label:"Athl\xe8te"},{value:"volunteer",label:"B\xe9n\xe9vole"}];async function x(e){let a={...e,price:Math.round(100*parseFloat(e.price)),unique:"unique"===e.unique,enabled:e.enabled||!0,school_type:e.schoolType,public_type:e.publicType||void 0,product_id:s};l(s,a,()=>{r(),o.reset()})}function p(){c||(r(),o.reset())}return(0,t.jsx)(y.Vq,{open:a,onOpenChange:p,children:(0,t.jsxs)(y.cZ,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(y.fK,{children:[(0,t.jsx)(y.$N,{children:"Ajouter une variante"}),(0,t.jsx)(y.Be,{children:"Cr\xe9ez une nouvelle variante pour ce produit avec ses propres caract\xe9ristiques et tarif."})]}),(0,t.jsx)(w.l0,{...o,children:(0,t.jsxs)("form",{onSubmit:o.handleSubmit(x),className:"space-y-4",children:[(0,t.jsx)(S.L,{form:o,label:"Nom",id:"name",input:e=>(0,t.jsx)(d.I,{placeholder:"Nom de la variante",...e})}),(0,t.jsx)(S.L,{form:o,label:"Description",id:"description",input:e=>(0,t.jsx)(C.g,{placeholder:"Description (optionnelle)",className:"min-h-20",...e})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(S.L,{form:o,label:"Prix",id:"price",input:e=>(0,t.jsx)(I,{id:"price",...e})}),(0,t.jsx)(S.L,{form:o,label:"Type d'\xe9cole",id:"schoolType",input:e=>(0,t.jsxs)(A.Ph,{onValueChange:e.onChange,value:e.value,children:[(0,t.jsx)(A.i4,{children:(0,t.jsx)(A.ki,{placeholder:"S\xe9lectionnez un type d'\xe9cole"})}),(0,t.jsx)(A.Bw,{children:u.map(e=>(0,t.jsx)(A.Ql,{value:e.value,children:e.label},e.value))})]})})]}),(0,t.jsx)(S.L,{form:o,label:"Type de public (optionnel)",id:"publicType",input:e=>(0,t.jsxs)(A.Ph,{onValueChange:e.onChange,value:e.value,children:[(0,t.jsx)(A.i4,{children:(0,t.jsx)(A.ki,{placeholder:"S\xe9lectionnez un type de public"})}),(0,t.jsx)(A.Bw,{children:m.map(e=>(0,t.jsx)(A.Ql,{value:e.value,children:e.label},e.value))})]})}),(0,t.jsx)(S.L,{form:o,label:"Achat",id:"unique",input:e=>(0,t.jsxs)(z.E,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(z.m,{value:"unique",id:"unique"}),(0,t.jsx)(Z._,{htmlFor:"unique",children:"Ne peux \xeatre achet\xe9 qu'une seule fois"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(z.m,{value:"multiple",id:"multiple"}),(0,t.jsx)(Z._,{htmlFor:"multiple",children:"Peux \xeatre achet\xe9 autant de fois que souhait\xe9"})]})]})}),(0,t.jsx)(S.L,{form:o,label:"Activ\xe9",id:"enabled",input:e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(k.X,{id:"enabled",checked:e.value,onCheckedChange:e.onChange}),(0,t.jsx)(Z._,{htmlFor:"enabled",children:"Cette variante est activ\xe9e et disponible \xe0 l'achat"})]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,t.jsx)(n.z,{type:"button",variant:"outline",onClick:p,disabled:c,children:"Annuler"}),(0,t.jsx)(q.f,{type:"submit",isLoading:c,children:"Ajouter la variante"})]})]})})]})})};var B=a(32060),T=a(71533),D=a(15868),E=a(89227),R=a(33276),X=a(18930);let M=e=>{let{variant:s,isOpen:a,onClose:r}=e,{updateVariant:l,isUpdateVariantLoading:c}=(0,i.r)(),o=(0,v.cI)({resolver:(0,N.F)(g),mode:"onBlur",defaultValues:{name:s.name,description:(null==s?void 0:s.description)||void 0,price:(s.price/100).toString(),unique:s.unique?"unique":"multiple",enabled:s.enabled,schoolType:s.school_type,publicType:s.public_type||void 0}}),u=[{value:"centrale",label:"Centrale"},{value:"from_lyon",label:"De Lyon"},{value:"others",label:"Autres"}],m=[{value:"pompom",label:"Pompom"},{value:"fanfare",label:"Fanfare"},{value:"cameraman",label:"Cameraman"},{value:"athlete",label:"Athl\xe8te"},{value:"volunteer",label:"B\xe9n\xe9vole"}];async function x(e){let a={...e,price:Math.round(100*parseFloat(e.price)),unique:"unique"===e.unique,enabled:e.enabled||!0};l(s.id,a,()=>{r()})}function p(){c||(r(),o.reset({name:s.name,description:(null==s?void 0:s.description)||void 0,price:(s.price/100).toString(),unique:s.unique?"unique":"multiple",enabled:s.enabled,schoolType:s.school_type,publicType:s.public_type||void 0}))}return(0,t.jsx)(y.Vq,{open:a,onOpenChange:p,children:(0,t.jsxs)(y.cZ,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(y.fK,{children:[(0,t.jsx)(y.$N,{children:"Modifier la variante"}),(0,t.jsx)(y.Be,{children:"Modifiez les informations de cette variante."})]}),(0,t.jsx)(w.l0,{...o,children:(0,t.jsxs)("form",{onSubmit:o.handleSubmit(x),className:"space-y-4",children:[(0,t.jsx)(S.L,{form:o,label:"Nom",id:"name",input:e=>(0,t.jsx)(d.I,{placeholder:"Nom de la variante",...e})}),(0,t.jsx)(S.L,{form:o,label:"Description",id:"description",input:e=>(0,t.jsx)(C.g,{placeholder:"Description (optionnelle)",className:"min-h-20",...e})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(S.L,{form:o,label:"Prix",id:"price",input:e=>(0,t.jsx)(I,{id:"price",...e})}),(0,t.jsx)(S.L,{form:o,label:"Type d'\xe9cole",id:"schoolType",input:e=>(0,t.jsxs)(A.Ph,{onValueChange:e.onChange,value:e.value,children:[(0,t.jsx)(A.i4,{children:(0,t.jsx)(A.ki,{placeholder:"S\xe9lectionnez un type d'\xe9cole"})}),(0,t.jsx)(A.Bw,{children:u.map(e=>(0,t.jsx)(A.Ql,{value:e.value,children:e.label},e.value))})]})})]}),(0,t.jsx)(S.L,{form:o,label:"Type de public (optionnel)",id:"publicType",input:e=>(0,t.jsxs)(A.Ph,{onValueChange:e.onChange,value:e.value,children:[(0,t.jsx)(A.i4,{children:(0,t.jsx)(A.ki,{placeholder:"S\xe9lectionnez un type de public"})}),(0,t.jsx)(A.Bw,{children:m.map(e=>(0,t.jsx)(A.Ql,{value:e.value,children:e.label},e.value))})]})}),(0,t.jsx)(S.L,{form:o,label:"Achat",id:"unique",input:e=>(0,t.jsxs)(z.E,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(z.m,{value:"unique",id:"unique"}),(0,t.jsx)(Z._,{htmlFor:"unique",children:"Ne peux \xeatre achet\xe9 qu'une seule fois"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(z.m,{value:"multiple",id:"multiple"}),(0,t.jsx)(Z._,{htmlFor:"multiple",children:"Peux \xeatre achet\xe9 autant de fois que souhait\xe9"})]})]})}),(0,t.jsx)(S.L,{form:o,label:"Activ\xe9",id:"enabled",input:e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(k.X,{id:"enabled",checked:e.value,onCheckedChange:e.onChange}),(0,t.jsx)(Z._,{htmlFor:"enabled",children:"Cette variante est activ\xe9e et disponible \xe0 l'achat"})]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,t.jsx)(n.z,{type:"button",variant:"outline",onClick:p,disabled:c,children:"Annuler"}),(0,t.jsx)(q.f,{type:"submit",isLoading:c,children:"Enregistrer"})]})]})})]})})},Y=e=>{let{variant:s,productId:a}=e,{deleteVariant:l,updateVariant:d,isDeleteVariantLoading:c,isUpdateVariantLoading:o}=(0,i.r)(),[u,m]=(0,r.useState)(!1),[x,p]=(0,r.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(B.h_,{children:[(0,t.jsx)(B.$F,{asChild:!0,children:(0,t.jsx)(n.z,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,t.jsx)(T.Z,{className:"h-3 w-3"})})}),(0,t.jsxs)(B.AW,{align:"end",className:"w-40",children:[(0,t.jsxs)(B.Xi,{onClick:()=>m(!0),children:[(0,t.jsx)(D.Z,{className:"h-4 w-4 mr-2"}),"Modifier"]}),(0,t.jsx)(B.Xi,{onClick:()=>{d(s.id,{enabled:!s.enabled},()=>{})},disabled:o,children:s.enabled?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.Z,{className:"h-4 w-4 mr-2"}),"D\xe9sactiver"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R.Z,{className:"h-4 w-4 mr-2"}),"Activer"]})}),(0,t.jsx)(B.VD,{}),(0,t.jsxs)(B.Xi,{onClick:()=>p(!0),className:"text-destructive focus:text-destructive",children:[(0,t.jsx)(X.Z,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]}),(0,t.jsx)(M,{variant:s,isOpen:u,onClose:()=>m(!1)}),(0,t.jsx)(y.Vq,{open:x,onOpenChange:p,children:(0,t.jsxs)(y.cZ,{children:[(0,t.jsxs)(y.fK,{children:[(0,t.jsx)(y.$N,{children:"Supprimer la variante"}),(0,t.jsxs)(y.Be,{children:['\xcates-vous s\xfbr de vouloir supprimer la variante "',s.name,'" ? Cette action ne peut pas \xeatre annul\xe9e.']})]}),(0,t.jsxs)(y.cN,{children:[(0,t.jsx)(n.z,{variant:"outline",onClick:()=>p(!1),disabled:c,children:"Annuler"}),(0,t.jsx)(q.f,{variant:"destructive",onClick:()=>{l(a,s.id,()=>{p(!1)})},isLoading:c,children:"Supprimer"})]})]})})]})},$=e=>{let{product:s,variants:a}=e,[i,d]=(0,r.useState)(!1),o=e=>({centrale:"Centrale",from_lyon:"De Lyon",others:"Autres"})[e]||e,m=e=>({pompom:"Pompom",fanfare:"Fanfare",cameraman:"Cameraman",athlete:"Athl\xe8te",volunteer:"B\xe9n\xe9vole"})[e]||e;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[(0,t.jsx)(l.Zb,{className:"min-h-32 border-dashed border-2 hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>d(!0),children:(0,t.jsxs)(l.aY,{className:"flex flex-col items-center justify-center h-full p-4",children:[(0,t.jsx)(u.Z,{className:"h-8 w-8 text-muted-foreground mb-2"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground text-center",children:"Ajouter une variante"})]})}),a.map(e=>(0,t.jsx)(l.Zb,{className:"min-h-32 transition-all hover:shadow-md ".concat(e.enabled?"border-primary/20":"border-muted opacity-60"),children:(0,t.jsxs)(l.aY,{className:"p-4 h-full flex flex-col justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsx)("h4",{className:"font-medium text-sm leading-tight",children:e.name}),(0,t.jsx)(Y,{variant:e,productId:s.id})]}),e.description&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1 text-xs",children:[(0,t.jsx)(p.Z,{className:"h-3 w-3"}),(0,t.jsxs)("span",{className:"font-medium",children:[(e.price/100).toFixed(2),"€"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[(0,t.jsx)(h.Z,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:o(e.school_type)})]}),e.public_type&&(0,t.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:m(e.public_type)})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[(0,t.jsx)(c.C,{variant:e.enabled?"default":"secondary",className:"text-xs",children:e.enabled?"Actif":"Inactif"}),e.unique&&(0,t.jsx)(c.C,{variant:"outline",className:"text-xs",children:"Unique"})]})]})},e.id))]}),0===a.length&&(0,t.jsx)("div",{className:"text-center py-8 border-2 border-dashed rounded-lg",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.Z,{className:"h-8 w-8 text-muted-foreground mx-auto"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aucune variante pour ce produit"}),(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>d(!0),children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Cr\xe9er la premi\xe8re variante"]})]})}),(0,t.jsx)(O,{isOpen:i,onClose:()=>d(!1),productId:s.id})]})},K=b.z.object({id:b.z.string().optional(),name:b.z.string({required_error:"Veuillez renseigner le nom du produit"}).min(1,{message:"Veuillez renseigner le nom du produit"}),description:b.z.string().optional(),required:b.z.boolean().optional()}),U=e=>{let{isOpen:s,onClose:a}=e,{createProduct:r,isCreateLoading:l}=(0,i.r)(),c=(0,v.cI)({resolver:(0,N.F)(K),mode:"onBlur",defaultValues:{name:"",description:""}});async function o(e){r(e,()=>{a(),c.reset()})}function u(){l||(a(),c.reset())}return(0,t.jsx)(y.Vq,{open:s,onOpenChange:u,children:(0,t.jsxs)(y.cZ,{className:"sm:max-w-md",children:[(0,t.jsxs)(y.fK,{children:[(0,t.jsx)(y.$N,{children:"Cr\xe9er un nouveau produit"}),(0,t.jsx)(y.Be,{children:"Ajoutez un nouveau produit \xe0 votre catalogue. Vous pourrez ensuite cr\xe9er des variantes pour ce produit."})]}),(0,t.jsx)(w.l0,{...c,children:(0,t.jsxs)("form",{onSubmit:c.handleSubmit(o),className:"space-y-4",children:[(0,t.jsx)(S.L,{form:c,label:"Nom du produit",id:"name",input:e=>(0,t.jsx)(d.I,{placeholder:"Ex: T-shirt, Sweat-shirt, Accessoire...",...e})}),(0,t.jsx)(S.L,{form:c,label:"Description",id:"description",input:e=>(0,t.jsx)(C.g,{placeholder:"Description du produit (optionnel)",className:"min-h-20",...e})}),(0,t.jsx)(S.L,{form:c,label:"Produit obligatoire",id:"required",input:e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,t.jsx)(k.X,{checked:e.value||!1,onCheckedChange:e.onChange}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Ce produit doit \xeatre s\xe9lectionn\xe9 lors de l'inscription"})]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,t.jsx)(n.z,{type:"button",variant:"outline",onClick:u,disabled:l,children:"Annuler"}),(0,t.jsx)(q.f,{type:"submit",isLoading:l,children:"Cr\xe9er le produit"})]})]})})]})})},Q=e=>{let{product:s,isOpen:a,onClose:r}=e,{updateProduct:l,isUpdateLoading:c}=(0,i.r)(),o=(0,v.cI)({resolver:(0,N.F)(K),mode:"onBlur",defaultValues:{name:s.name,description:s.description||"",required:s.required||!1}});async function u(e){l(s.id,e,()=>{r()})}function m(){c||(r(),o.reset({name:s.name,description:s.description||"",required:s.required||!1}))}return(0,t.jsx)(y.Vq,{open:a,onOpenChange:m,children:(0,t.jsxs)(y.cZ,{className:"sm:max-w-md",children:[(0,t.jsxs)(y.fK,{children:[(0,t.jsx)(y.$N,{children:"Modifier le produit"}),(0,t.jsx)(y.Be,{children:"Modifiez les informations de votre produit."})]}),(0,t.jsx)(w.l0,{...o,children:(0,t.jsxs)("form",{onSubmit:o.handleSubmit(u),className:"space-y-4",children:[(0,t.jsx)(S.L,{form:o,label:"Nom du produit",id:"name",input:e=>(0,t.jsx)(d.I,{placeholder:"Ex: T-shirt, Sweat-shirt, Accessoire...",...e})}),(0,t.jsx)(S.L,{form:o,label:"Description",id:"description",input:e=>(0,t.jsx)(C.g,{placeholder:"Description du produit (optionnel)",className:"min-h-20",...e})}),(0,t.jsx)(S.L,{form:o,label:"Produit obligatoire",id:"required",input:e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,t.jsx)(k.X,{checked:e.value||!1,onCheckedChange:e.onChange}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Ce produit doit \xeatre s\xe9lectionn\xe9 lors de l'inscription"})]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,t.jsx)(n.z,{type:"button",variant:"outline",onClick:m,disabled:c,children:"Annuler"}),(0,t.jsx)(q.f,{type:"submit",isLoading:c,children:"Enregistrer"})]})]})})]})})},W=e=>{let{product:s}=e,{deleteProduct:a,isDeleteLoading:l}=(0,i.r)(),[d,c]=(0,r.useState)(!1),[o,u]=(0,r.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(B.h_,{children:[(0,t.jsx)(B.$F,{asChild:!0,children:(0,t.jsx)(n.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,t.jsx)(T.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(B.AW,{align:"end",className:"w-40",children:[(0,t.jsxs)(B.Xi,{onClick:()=>c(!0),children:[(0,t.jsx)(D.Z,{className:"h-4 w-4 mr-2"}),"Modifier"]}),(0,t.jsx)(B.VD,{}),(0,t.jsxs)(B.Xi,{onClick:()=>u(!0),className:"text-destructive focus:text-destructive",children:[(0,t.jsx)(X.Z,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]}),(0,t.jsx)(Q,{product:s,isOpen:d,onClose:()=>c(!1)}),(0,t.jsx)(y.Vq,{open:o,onOpenChange:u,children:(0,t.jsxs)(y.cZ,{children:[(0,t.jsxs)(y.fK,{children:[(0,t.jsx)(y.$N,{children:"Supprimer le produit"}),(0,t.jsxs)(y.Be,{children:['\xcates-vous s\xfbr de vouloir supprimer le produit "',s.name,'" ? Cette action supprimera \xe9galement toutes les variantes associ\xe9es et ne peut pas \xeatre annul\xe9e.']})]}),(0,t.jsxs)(y.cN,{children:[(0,t.jsx)(n.z,{variant:"outline",onClick:()=>u(!1),disabled:l,children:"Annuler"}),(0,t.jsx)(q.f,{variant:"destructive",onClick:()=>{a(s.id,()=>{u(!1)})},isLoading:l,children:"Supprimer"})]})]})})]})};var G=a(8227);let J=e=>{let{products:s}=e,[a,i]=(0,r.useState)(""),[p,h]=(0,r.useState)(new Set),[j,f]=(0,r.useState)(!1),v=s.filter(e=>{var s;return e.name.toLowerCase().includes(a.toLowerCase())||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(a.toLowerCase()))}),N=e=>{let s=new Set(p);s.has(e)?s.delete(e):s.add(e),h(s)},b=e=>{var s,a;return{totalVariants:(null===(s=e.variants)||void 0===s?void 0:s.length)||0,enabledVariants:(null===(a=e.variants)||void 0===a?void 0:a.filter(e=>e.enabled).length)||0}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(d.I,{placeholder:"Rechercher des produits...",value:a,onChange:e=>i(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(n.z,{onClick:()=>f(!0),children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Ajouter un produit"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:v.sort((e,s)=>e.name.localeCompare(s.name)).map(e=>{let{totalVariants:s,enabledVariants:a}=b(e),i=p.has(e.id);return(0,t.jsx)(l.Zb,{className:"overflow-hidden",children:(0,t.jsxs)(G.zF,{open:i,onOpenChange:()=>N(e.id),children:[(0,t.jsx)(G.wy,{asChild:!0,children:(0,t.jsx)(l.Ol,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,t.jsx)(m.Z,{className:"h-5 w-5 text-primary"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(l.ll,{className:"text-lg",children:e.name}),(0,t.jsx)(c.C,{variant:a>0?"default":"secondary",children:a>0?"Actif":"Inactif"}),e.required&&(0,t.jsx)(c.C,{className:"ml-1",children:"Obligatoire"})]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(m.Z,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:[s," variante",1!==s?"s":""]})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(W,{product:e}),(0,t.jsx)(x.Z,{className:"h-4 w-4 transition-transform ".concat(i?"rotate-90":"")})]})]})]})})}),(0,t.jsx)(G.Fw,{children:(0,t.jsx)(l.aY,{className:"pt-0",children:(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-muted-foreground",children:["Variantes (",s,")"]}),a!==s&&(0,t.jsxs)(c.C,{variant:"outline",className:"text-xs",children:[a," actives"]})]}),(0,t.jsx)($,{product:e,variants:e.variants||[]})]})})})]})},e.id)})}),0===v.length&&(0,t.jsx)(l.Zb,{className:"p-8",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"p-4 bg-muted/50 rounded-full w-16 h-16 mx-auto flex items-center justify-center",children:(0,t.jsx)(m.Z,{className:"h-8 w-8 text-muted-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:a?"Aucun produit trouv\xe9":"Aucun produit"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:a?"Essayez de modifier votre recherche":"Commencez par cr\xe9er votre premier produit"})]}),!a&&(0,t.jsxs)(n.z,{onClick:()=>f(!0),children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Cr\xe9er un produit"]})]})}),(0,t.jsx)(U,{isOpen:j,onClose:()=>f(!1)})]})};var H=a(16275),ee=a(41671),es=a(99388),ea=a(32660),et=a(33245),ei=e=>{var s,a,i;let{product:r,onEdit:d,onDelete:o,onAddVariant:x,onEditVariant:h,onDeleteVariant:j}=e,f=r.variants&&r.variants.length>0,v=(null===(s=r.variants)||void 0===s?void 0:s.filter(e=>!1!==e.enabled).length)||0,N=(null===(a=r.variants)||void 0===a?void 0:a.length)||0,b=r.required||f&&v>0,g=e=>{switch(e){case"lyon":return"\xc9cole Lyonnaise";case"external":return"\xc9cole Externe";case"all":return"Toutes les \xe9coles";default:return e}},y=e=>{switch(e){case"student":return"\xc9tudiants";case"staff":return"Personnel";case"all":return"Tous";default:return e||"Non d\xe9fini"}},w=e=>{switch(e){case"lyon":return"bg-blue-100 text-blue-800 border-blue-200";case"external":return"bg-purple-100 text-purple-800 border-purple-200";case"all":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return(0,t.jsxs)("div",{className:"flex w-full flex-col space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[(0,t.jsx)(m.Z,{className:"h-8 w-8 text-primary"}),r.name]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[r.required&&(0,t.jsxs)(c.C,{variant:"outline",className:"gap-1 bg-orange-100 text-orange-800 border-orange-200",children:[(0,t.jsx)(H.Z,{className:"h-3 w-3"}),"Obligatoire"]}),(0,t.jsxs)(c.C,{variant:b?"default":"destructive",className:"gap-1",children:[b?(0,t.jsx)(ee.Z,{className:"h-3 w-3"}):(0,t.jsx)(es.Z,{className:"h-3 w-3"}),b?"Actif":"Inactif"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(n.z,{variant:"outline",onClick:()=>window.history.back(),className:"gap-2",children:[(0,t.jsx)(ea.Z,{className:"h-4 w-4"}),"Retour"]}),d&&(0,t.jsxs)(n.z,{variant:"outline",onClick:d,className:"gap-2",children:[(0,t.jsx)(D.Z,{className:"h-4 w-4"}),"Modifier"]}),(0,t.jsxs)(n.z,{variant:"destructive",onClick:o,className:"gap-2",children:[(0,t.jsx)(X.Z,{className:"h-4 w-4"}),"Supprimer"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)(l.Zb,{children:(0,t.jsx)(l.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Z,{className:"h-5 w-5 text-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Nom du produit"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:r.name})]})]})})}),(0,t.jsx)(l.Zb,{children:(0,t.jsx)(l.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(H.Z,{className:"h-5 w-5 text-green-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Variants"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[v,"/",N]})]})]})})}),(0,t.jsx)(l.Zb,{children:(0,t.jsx)(l.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.Z,{className:"h-5 w-5 text-purple-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Prix minimum"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:r.variants&&r.variants.length>0?"".concat(Math.min(...r.variants.map(e=>e.price)),"€"):"N/A"})]})]})})})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(et.Z,{className:"h-5 w-5"}),"Informations du produit"]})}),(0,t.jsx)(l.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"D\xe9tails g\xe9n\xe9raux"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Nom"}),(0,t.jsx)("p",{className:"text-sm",children:r.name})]}),r.description&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),(0,t.jsx)("p",{className:"text-sm",children:r.description})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Obligatoire"}),(0,t.jsx)("p",{className:"text-sm",children:r.required?"Oui":"Non"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Identifiants"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"ID Produit"}),(0,t.jsx)("p",{className:"text-sm font-mono",children:r.id})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"ID \xc9dition"}),(0,t.jsx)("p",{className:"text-sm font-mono",children:r.edition_id})]})]})]})]})})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Z,{className:"h-5 w-5"}),"Variants (",N,")"]}),x&&(0,t.jsxs)(n.z,{onClick:x,className:"gap-2",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4"}),"Ajouter un variant"]})]})}),(0,t.jsx)(l.aY,{children:f?(0,t.jsx)("div",{className:"space-y-4",children:null===(i=r.variants)||void 0===i?void 0:i.map(e=>(0,t.jsx)(l.Zb,{className:"border border-border",children:(0,t.jsx)(l.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.name}),(0,t.jsxs)(c.C,{variant:!1!==e.enabled?"default":"destructive",className:"gap-1",children:[!1!==e.enabled?(0,t.jsx)(ee.Z,{className:"h-3 w-3"}):(0,t.jsx)(es.Z,{className:"h-3 w-3"}),!1!==e.enabled?"Actif":"Inactif"]}),(0,t.jsx)(c.C,{variant:"outline",className:"gap-1 ".concat(w(e.school_type)),children:g(e.school_type)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Prix"}),(0,t.jsxs)("p",{className:"font-medium",children:[e.price,"€"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Public cible"}),(0,t.jsx)("p",{className:"font-medium",children:y(e.public_type||void 0)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Unique"}),(0,t.jsx)("p",{className:"font-medium",children:e.unique?"Oui":"Non"})]})]}),e.description&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Description"}),(0,t.jsx)("p",{className:"text-sm",children:e.description})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[h&&(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>h(e.id),className:"gap-1",children:[(0,t.jsx)(D.Z,{className:"h-3 w-3"}),"Modifier"]}),j&&(0,t.jsxs)(n.z,{variant:"destructive",size:"sm",onClick:()=>j(e.id),className:"gap-1",children:[(0,t.jsx)(X.Z,{className:"h-3 w-3"}),"Supprimer"]})]})]})})},e.id))}):(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(m.Z,{className:"h-12 w-12 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-lg font-semibold mb-2",children:"Aucun variant"}),(0,t.jsx)("p",{className:"mb-4",children:"Ce produit n'a pas encore de variants configur\xe9s."}),x&&(0,t.jsxs)(n.z,{onClick:x,className:"gap-2",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4"}),"Ajouter le premier variant"]})]})})]})]})},er=a(99376),el=a(69140),en=()=>{let e=(0,er.useRouter)(),{products:s}=(0,i.r)(),a=(0,er.useSearchParams)().get("product_id"),r=null==s?void 0:s.find(e=>e.id===a),l=()=>{e.push("/admin/products")};return a?r?(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(n.z,{variant:"outline",onClick:l,children:[(0,t.jsx)(ea.Z,{className:"h-4 w-4 mr-2"}),"Retour aux produits"]}),(0,t.jsx)(ei,{product:r})]})}):(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(n.z,{variant:"outline",onClick:l,children:[(0,t.jsx)(ea.Z,{className:"h-4 w-4 mr-2"}),"Retour aux produits"]}),(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Produit non trouv\xe9"})})]})}):s?(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Gestion des produits"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"G\xe9rez vos produits et leurs variantes"})]}),(0,t.jsx)(J,{products:s})]})}):(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(el.O,{className:"h-10 w-64"}),(0,t.jsx)(el.O,{className:"h-10 w-32"})]}),(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,s)=>(0,t.jsx)(el.O,{className:"h-32 w-full"},s))})]})})}},8227:function(e,s,a){"use strict";a.d(s,{Fw:function(){return l},wy:function(){return r},zF:function(){return i}});var t=a(962);let i=t.fC,r=t.wy,l=t.Fw},32060:function(e,s,a){"use strict";a.d(s,{$F:function(){return u},AW:function(){return m},Ju:function(){return p},VD:function(){return h},Xi:function(){return x},h_:function(){return o}});var t=a(57437),i=a(2265),r=a(70085),l=a(10407),n=a(30401),d=a(40519),c=a(94508);let o=r.fC,u=r.xz;r.ZA,r.Uv,r.Tr,r.Ee,i.forwardRef((e,s)=>{let{className:a,inset:i,children:n,...d}=e;return(0,t.jsxs)(r.fF,{ref:s,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",i&&"pl-8",a),...d,children:[n,(0,t.jsx)(l.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=r.fF.displayName,i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(r.tu,{ref:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})}).displayName=r.tu.displayName;let m=i.forwardRef((e,s)=>{let{className:a,sideOffset:i=4,...l}=e;return(0,t.jsx)(r.Uv,{children:(0,t.jsx)(r.VY,{ref:s,sideOffset:i,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});m.displayName=r.VY.displayName;let x=i.forwardRef((e,s)=>{let{className:a,inset:i,...l}=e;return(0,t.jsx)(r.ck,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i&&"pl-8",a),...l})});x.displayName=r.ck.displayName,i.forwardRef((e,s)=>{let{className:a,children:i,checked:l,...d}=e;return(0,t.jsxs)(r.oC,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...d,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(r.wU,{children:(0,t.jsx)(n.Z,{className:"h-4 w-4"})})}),i]})}).displayName=r.oC.displayName,i.forwardRef((e,s)=>{let{className:a,children:i,...l}=e;return(0,t.jsxs)(r.Rk,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(r.wU,{children:(0,t.jsx)(d.Z,{className:"h-2 w-2 fill-current"})})}),i]})}).displayName=r.Rk.displayName;let p=i.forwardRef((e,s)=>{let{className:a,inset:i,...l}=e;return(0,t.jsx)(r.__,{ref:s,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",i&&"pl-8",a),...l})});p.displayName=r.__.displayName;let h=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(r.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...i})});h.displayName=r.Z0.displayName},40279:function(e,s,a){"use strict";a.d(s,{I:function(){return l}});var t=a(57437),i=a(2265),r=a(94508);let l=i.forwardRef((e,s)=>{let{className:a,type:i,...l}=e;return(0,t.jsx)("input",{type:i,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...l})});l.displayName="Input"},69140:function(e,s,a){"use strict";a.d(s,{O:function(){return r}});var t=a(57437),i=a(94508);function r(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",s),...a})}},23675:function(e,s,a){"use strict";a.d(s,{g:function(){return l}});var t=a(57437),i=a(2265),r=a(94508);let l=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...i})});l.displayName="Textarea"},56229:function(e,s,a){"use strict";a.d(s,{r:function(){return n}});var t=a(41494),i=a(25779),r=a(28207),l=a(18752);let n=()=>{let{token:e,isTokenExpired:s}=(0,r.a)(),{isAdmin:a}=(0,i.a)(),{data:n,refetch:d,error:c}=(0,t.Xh5)({headers:{Authorization:"Bearer ".concat(e)}},{enabled:a()&&!s(),retry:0,queryHash:"getProducts"}),{mutate:o,isPending:u}=(0,t.X0b)(),{mutate:m,isPending:x}=(0,t.TK4)(),{mutate:p,isPending:h}=(0,t.Oy7)(),{mutate:j,isPending:f}=(0,t.h7y)(),{mutate:v,isPending:N}=(0,t.nUK)(),{mutate:b,isPending:g}=(0,t.Jvq)();return{products:n,error:c,refetchProducts:d,isCreateLoading:u,createProduct:(s,a)=>o({headers:{Authorization:"Bearer ".concat(e)},body:s},{onSettled:(e,s)=>{s.stack.body||s.stack.detail?(console.log(s),(0,l.Am)({title:"Erreur lors de l'ajout du produit",description:s.stack.body||s.stack.detail,variant:"destructive"})):(d(),a(),(0,l.Am)({title:"Produit ajout\xe9e",description:"Le produit a \xe9t\xe9 ajout\xe9 avec succ\xe8s."}))}}),isUpdateLoading:x,updateProduct:(s,a,t)=>m({headers:{Authorization:"Bearer ".concat(e)},pathParams:{productId:s},body:a},{onSettled:(e,s)=>{s.stack.body||s.stack.detail?(console.log(s),(0,l.Am)({title:"Erreur lors de la modification du produit",description:s.stack.body||s.stack.detail,variant:"destructive"})):(d(),t(),(0,l.Am)({title:"Produit modifi\xe9e",description:"Le produit a \xe9t\xe9 modifi\xe9e avec succ\xe8s."}))}}),isDeleteLoading:h,deleteProduct:(s,a)=>p({headers:{Authorization:"Bearer ".concat(e)},pathParams:{productId:s}},{onSettled:(e,s)=>{s.stack.body||s.stack.detail?(console.log(s),(0,l.Am)({title:"Erreur lors de la suppression du product",description:s.stack.body||s.stack.detail,variant:"destructive"})):(d(),a(),(0,l.Am)({title:"Product supprim\xe9e",description:"Le product a \xe9t\xe9 supprim\xe9e avec succ\xe8s."}))}}),isCreateVariantLoading:f,createVariant:(s,a,t)=>j({headers:{Authorization:"Bearer ".concat(e)},pathParams:{productId:s},body:a},{onSettled:(e,s)=>{s.stack.body||s.stack.detail?(console.log(s),(0,l.Am)({title:"Erreur lors de l'ajout de la variante",description:s.stack.body||s.stack.detail,variant:"destructive"})):(d(),t(),(0,l.Am)({title:"Variante ajout\xe9e",description:"La variante a \xe9t\xe9 ajout\xe9e avec succ\xe8s."}))}}),isUpdateVariantLoading:N,updateVariant:(s,a,t)=>v({headers:{Authorization:"Bearer ".concat(e)},pathParams:{variantId:s},body:a},{onSettled:(e,s)=>{s.stack.body||s.stack.detail?(console.log(s),(0,l.Am)({title:"Erreur lors de la modification de la variante",description:s.stack.body||s.stack.detail,variant:"destructive"})):(d(),t(),(0,l.Am)({title:"Variante modifi\xe9e",description:"La variante a \xe9t\xe9 modifi\xe9e avec succ\xe8s."}))}}),isDeleteVariantLoading:g,deleteVariant:(s,a,t)=>b({headers:{Authorization:"Bearer ".concat(e)},queryParams:{product_id:s},pathParams:{variantId:a}},{onSettled:(e,s)=>{s.stack.body||s.stack.detail?(console.log(s),(0,l.Am)({title:"Erreur lors de la suppression de la variante",description:s.stack.body||s.stack.detail,variant:"destructive"})):(d(),t(),(0,l.Am)({title:"Variante supprim\xe9e",description:"La variante a \xe9t\xe9 supprim\xe9e avec succ\xe8s."}))}})}}}},function(e){e.O(0,[8310,1414,9522,411,278,8068,9859,5763,558,5184,815,6400,8175,917,2971,2117,1744],function(){return e(e.s=66814)}),_N_E=e.O()}]);