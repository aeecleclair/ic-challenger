(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6895],{10530:function(e,i,t){Promise.resolve().then(t.bind(t,73916))},73916:function(e,i,t){"use strict";t.r(i);var d=t(57437),a=t(27648),n=t(99376),o=t(13590),l=t(29501),s=t(2265),r=t(99914),c=t(44866),m=t(83213),u=t(69140);i.default=()=>{let e=(0,n.useRouter)(),i=(0,n.useSearchParams)().get("match_id"),[t,_]=(0,s.useState)(),{sportMatches:v,updateMatch:f,isUpdateLoading:h}=(0,r.k)({sportId:t}),x=null==v?void 0:v.find(e=>e.id===i);(0,s.useEffect)(()=>{x&&x.sport_id!==t&&_(x.sport_id)},[x,t]);let g=(0,l.cI)({resolver:(0,o.F)(c.H),defaultValues:{name:(null==x?void 0:x.name)||"",sport_id:(null==x?void 0:x.sport_id)||"",team1_id:(null==x?void 0:x.team1_id)||"",team2_id:(null==x?void 0:x.team2_id)||"",date:(null==x?void 0:x.date)?new Date(x.date):void 0,location_id:(null==x?void 0:x.location_id)||void 0,score_team1:(null==x?void 0:x.score_team1)!==null?null==x?void 0:x.score_team1:void 0,score_team2:(null==x?void 0:x.score_team2)!==null?null==x?void 0:x.score_team2:void 0,winner_id:(null==x?void 0:x.winner_id)||void 0,edition_id:(null==x?void 0:x.edition_id)||""},mode:"onChange"});return(0,s.useEffect)(()=>{x&&g.reset({name:x.name,sport_id:x.sport_id,team1_id:x.team1_id,team2_id:x.team2_id,date:x.date?new Date(x.date):void 0,location_id:x.location_id||void 0,score_team1:null!==x.score_team1?x.score_team1:void 0,score_team2:null!==x.score_team2?x.score_team2:void 0,winner_id:x.winner_id||void 0,edition_id:x.edition_id})},[x,g]),(0,d.jsx)("div",{className:"flex w-full flex-col min-h-screen bg-gray-50",children:(0,d.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Modifier le match"}),(0,d.jsx)("p",{className:"text-gray-600 mt-1",children:x?'Modifiez les d\xe9tails du match "'.concat(x.name,'"'):"Chargement..."})]}),(0,d.jsx)(a.default,{href:"/admin/matches".concat(x?"?match_id=".concat(x.id):""),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"â† Retour aux d\xe9tails"})]}),x?(0,d.jsx)(m.U,{form:g,onSubmit:function(t){i&&f(i,{name:t.name,sport_id:t.sport_id,team1_id:t.team1_id,team2_id:t.team2_id,date:t.date?t.date.toISOString():null,location_id:t.location_id||null,score_team1:void 0!==t.score_team1?t.score_team1:null,score_team2:void 0!==t.score_team2?t.score_team2:null,winner_id:t.winner_id||null},()=>{e.push("/admin/matches?match_id=".concat(i))})},isLoading:h,submitLabel:"Mettre \xe0 jour le match",isEditing:!0}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(u.O,{className:"h-32 w-full rounded-lg"}),(0,d.jsx)(u.O,{className:"h-64 w-full rounded-lg"}),(0,d.jsx)(u.O,{className:"h-64 w-full rounded-lg"})]})]})})}},69140:function(e,i,t){"use strict";t.d(i,{O:function(){return n}});var d=t(57437),a=t(94508);function n(e){let{className:i,...t}=e;return(0,d.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",i),...t})}}},function(e){e.O(0,[8310,1414,9522,411,278,8068,9859,5763,558,7648,6004,130,8175,5327,5183,2971,2117,1744],function(){return e(e.s=10530)}),_N_E=e.O()}]);