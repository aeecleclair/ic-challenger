(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3428],{4587:function(e,t,i){Promise.resolve().then(i.bind(i,31524))},31524:function(e,t,i){"use strict";i.r(t);var s=i(57437),a=i(2265),n=i(27648),r=i(99376),d=i(13590),o=i(29501),l=i(99914),c=i(44866),m=i(83213);t.default=()=>{let e=(0,r.useRouter)(),t=(0,r.useSearchParams)().get("sport_id"),[i,u]=(0,a.useState)(t||""),{createMatch:_,isCreateLoading:h}=(0,l.k)({sportId:i||void 0}),f=(0,o.cI)({resolver:(0,d.F)(c.H),defaultValues:{name:"",sport_id:i||"",team1_id:"",team2_id:"",date:void 0,location_id:"",score_team1:void 0,score_team2:void 0,winner_id:void 0,edition_id:""},mode:"onChange"});return(0,a.useEffect)(()=>{i&&f.setValue("sport_id",i)},[i,f]),(0,a.useEffect)(()=>{let e=f.watch(e=>{e.sport_id&&e.sport_id!==i&&u(e.sport_id)});return()=>e.unsubscribe()},[f,i]),(0,s.jsx)("div",{className:"flex w-full flex-col min-h-screen",children:(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Cr\xe9er un nouveau match"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Configurez les d\xe9tails du match et s\xe9lectionnez les \xe9quipes participantes"})]}),(0,s.jsx)(n.default,{href:"/admin/matches",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"← Retour \xe0 la liste"})]}),(0,s.jsx)(m.U,{form:f,onSubmit:function(t){(t.sport_id||i)&&_({name:t.name,team1_id:t.team1_id,team2_id:t.team2_id,date:t.date.toISOString(),location_id:t.location_id,score_team1:t.score_team1||null,score_team2:t.score_team2||null,winner_id:t.winner_id||null},()=>{e.push("/admin/matches")})},isLoading:h,submitLabel:"Cr\xe9er le match",onSportChange:u})]})})}}},function(e){e.O(0,[8310,1414,9522,411,278,8068,9859,5763,558,7648,6004,130,8175,5327,5183,2971,2117,1744],function(){return e(e.s=4587)}),_N_E=e.O()}]);